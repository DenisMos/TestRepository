@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    ViewBag.Title = "Календарь";
    ViewBag.Header = "Календарь";
}

@{
    CalcWebMVC.Models.DayNameClass[] dayName = ViewBag.nameday;
    string[] nameDay = new string[] { "Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота" };
    string[] nameMonth = new string[] { "Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентабрь", "Октябрь", "Ноябрь", "Декабрь" };
}

<h2>Календарь</h2>

<h3> @nameMonth[@ViewBag.data.Month - 1] @ViewBag.data.Year </h3>

<div>
    <table border="1">
        <tr class="header">
            <td><p> Понедельник  </p></td>
            <td><p> Вотрник </p></td>
            <td><p> Среда  </p></td>
            <td><p> Четверг </p></td>
            <td><p> Пятница </p></td>
            <td><p> Суббота </p></td>
            <td><p> Воскресенье </p></td>
            <td></td>
        </tr>

            @for (int i = 0; i < (dayName.Length / 7); i++)
            {
            <tr>
                @for (int u = 0; u < 7; u++)
                {
                <td>
                    <p>
                        @if (@dayName[i * 7 + u] != null)
                        {
                            @dayName[i * 7 + u].DayInMonth
                        }

                    </p>
                    <form>
                        <p>
                            <textarea cols="20" rows="3" disabled>
                                @foreach (CalcWebMVC.Models.CalcContext s in @ViewBag.Calc) {
                                    if (s.DateKey.Day == @dayName[i * 7 + u].DayInMonth && s.DateKey.Month == dayName[i * 7 + u].Month && s.DateKey.Year == @dayName[i * 7 + u].Year) {
                                        <text> @s.Title   @s.Message </text>
                                       
                                    }
                                }
                            </textarea>
                        </p>
                    </form>
                </td>

                }
            </tr>
        }

    </table>
</div>
<div>
    @if (true)
    {
        if (true)
        {
            <a href="/HelloWorld/Calendar?datetime=@ViewBag.innext">Назад</a>
        }
        
        if (true)
        {
            <a href="/HelloWorld/Calendar?datetime=@ViewBag.next">Вперёд</a>
        }
        
    }
</div>
<p><a href="/HelloWorld/Delete">Удалить событие</a></p>
<p><a href="/HelloWorld/Create?day=1">Создать событие</a></p>

